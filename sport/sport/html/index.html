<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Language" content="zh-CN"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <title>资料库</title>
    <link rel="stylesheet" href="../css/swiper.min.css">
    <link rel="stylesheet" href="../font/iconfont.css" />
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <link rel="stylesheet" type="text/css" href="../css/index.css">
</head>
<body>
<div class="main">
    <!-- 头部--->
    <div class="header">
        <span>搜索</span>
        <span>logo</span>
        <span>登录</span>
        <span>注册</span>
    </div>
    <!-- tab--->
    <div class="top-tab">
        <ul class="top-name">
            <li>首页</li>
            <li>即时比分</li>
            <li>即时指数</li>
            <li>完场赛程</li>
            <li>资料库</li>
            <li>资讯</li>
            <li>情报</li>
        </ul>
        <div class="top-menu">
            <a>首页 ></a>
            <span><a href="football.html">足球</a></span>
            <span>资料库</span>
        </div>
        <div class="menu-name">
            <span><a href="football.html">足球</a></span>
            <span>篮球</span>
            <span>乒乓球</span>
            <span>排球</span>
            <span>网球</span>
        </div>
        <div class="game-diff" id="game-diff">
            <div class="game-diff-name">
                <span>赛事分区</span>
            </div>
            <div class="game-diff-content" id="star" style="overflow: hidden">
                <!--<div class="s_btn">-->
                <!--<span class="left iconfont icon-arrow-left"></span>-->
                <!--<span class="able right iconfont icon-youjiantou"></span>-->
                <!--</div>-->
                <ul class="game-diff-content-item s_show">
                    <li>
                        <a href="" class="img"><img src="../image/b.png" alt=""/></a>
                        <span>欧洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/a.jpg" alt=""/></a>
                        <span>美洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/b.png" alt=""/></a>
                        <span>亚洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/a.jpg" alt=""/></a>
                        <span>非洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/b.png" alt=""/></a>
                        <span>大洋洲杯赛</span>
                    </li>
                    <li class='last'>
                        <a href="" class="img"><img src="../image/a.jpg" alt=""/></a>
                        <span>沙滩杯赛</span>
                    </li>
                </ul>
                <ul class="game-diff-content-item">
                    <li>
                        <a href="" class="img"><img src="../image/e.jpg" alt=""/></a>
                        <span>欧洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/c.jpg" alt=""/></a>
                        <span>美洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/d.jpg" alt=""/></a>
                        <span>亚洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/b.png" alt=""/></a>
                        <span>非洲杯赛</span>
                    </li>
                    <li>
                        <a href="" class="img"><img src="../image/c.jpg" alt=""/></a>
                        <span>大洋洲杯赛</span>
                    </li>
                    <li class='last'>
                        <a href="" class="img"><img src="../image/c.jpg" alt=""/></a>
                        <span>沙滩杯赛</span>
                    </li>
                </ul>
            </div>

        </div>
    </div>
    <!-- 全部赛事--->
    <div class="game-all">
        <div class="game-all-list affix">
            <span>全部赛事</span>
            <ul id="game-all-list" class="game-all-list-name">
                <li class="changeColor">欧洲赛事</li>
                <li>美洲赛事</li>
                <li>亚洲赛事</li>
                <li>大洋洲</li>
                <li>非洲</li>
                <li>国际赛事</li>
            </ul>
        </div>
        <div class="game-all-content">
            <div class="game-all-content-name">
                <span >国家</span>
            </div>
            <ul id="game-all-name-list" class="game-all-name-list">

            </ul>
        </div>
    </div>

    <!-- 下半部分--->
    <div class="hot">
        <div class="hot-name tab-list">
            <span>热门球队</span>
            <span>热门球员</span>
        </div>
        <div class="hot-content-box">
            <div class="swiper-container">
                <ul id="hot-name-list" class="swiper-wrapper">
                    <!--<li class="swiper-slide">-->
                    <!--<img src="../image/e.jpg" alt=""/>-->
                    <!--<span>西班牙</span>-->
                    <!--</li>-->
                </ul>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    </div>
    <!-- 尾部--->
</div>
<script type="text/template" charset="utf-8" id='template-game-all-name-list'>
    {{ if (it && it.length > 0){ }}
    {{ for (let i = 0; i < it.length; i++){ }}
    <li name="mLi" onclick="test(this)">
        <img src="../image/b.png" alt=""/>
        <span>{{=it[i].name}}</span>
    </li>
    {{ } }}
    {{ } }}
</script>
<script type="text/template" charset="utf-8" id='template-hot-name-list'>
    {{ if (it && it.length > 0){ }}
    {{ for (let i = 0; i < it.length; i++){ }}
    <li class="swiper-slide">
        <img src="../image/e.jpg" alt=""/>
        <span>西班牙</span>
    </li>
    {{ } }}
    {{ } }}
</script>
<script src="../js/swiper.min.js"></script>
<script type="text/javascript" src='../js/jquery-1.11.3.js'></script>
<script type="text/javascript" src='../js/doT.js'></script>
<script type="text/javascript" src="../js/index.js"></script>
<script type="text/javascript">
    $(function () {

        //绑定全部赛事列表选项点击事件
        $(".game-all-list li").bind("click",function(){
            $(this).addClass("changeColor").siblings().removeClass("changeColor");
            console.log($(this).index());
            //点击那一条就显示对应的数据，传递点击的下标过去即可
            showGameAllList($(this).index());
        });

        //全部赛事-队伍名字列表 渲染, 默认渲染第一条的数据
        showGameAllList(0);

        //渲染热门球队的轮播列表
        //数据
        let hotListNameData = ["西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙","西班牙"];
        //模板列表
        let template = document.getElementById('template-hot-name-list').innerHTML;
        //渲染数据到列表
        document.getElementById('hot-name-list').innerHTML = doT.template( template )( hotListNameData );
        //这个要放在数据渲染后面，否则只显示一个
        let swiper = new Swiper('.swiper-container', {
            slidesPerView: 9,
            spaceBetween : 20,
            loop: true,
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
        });
    });

    //模拟全部数据
    let gameAllListNameData = [
        [{name: "德国"},{name: "德国"},{name: "德国"},{name: "德国"},{name: "德国"},{name: "德国"},{name: "德国"},{name: "德国"}],
        [{name: "法国"},{name: "法国"},{name: "法国"},{name: "法国"}],
        [{name: "英国"},{name: "英国"},{name: "英国"},{name: "英国"},{name: "英国"}],
        [{name: "日本"},{name: "日本"},{name: "日本"},{name: "日本"},{name: "日本"},{name: "日本"}],
        [{name: "中国"},{name: "中国"},{name: "中国"},{name: "中国"},{name: "中国"},{name: "中国"},{name: "中国"}],
        [{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"},{name: "美国"}]
    ];

    //渲染全部赛事右边的列表
    function showGameAllList(index) {
        //数据
        let gameAllList = gameAllListNameData[index];
        //模板列表
        let template = document.getElementById('template-game-all-name-list').innerHTML;
        //渲染数据到列表
        document.getElementById('game-all-name-list').innerHTML = doT.template( template )( gameAllList );
    }

    function test(obj) {
        let n = 6; //表示一行显示几个
        let text = $(obj).text();
        let index = $("#game-all-name-list li").index($(obj)); //获取点击的li在ul中的下标
        let li = $('li[name="mLi"]');//获取当前ul中所有li
        let last = Math.ceil(li.length/n); //获取行数
        for(let i=0; i<li.length; i++) {
            if (i === index) {
                let div = li[i];//获取第i个li
                let myDiv = document.getElementById("myDiv");
                if(myDiv){
                    div.parentNode.removeChild(myDiv);
                }
                let mHtml = '<div id="myDiv" class="myDiv">我是新的'+ text +'</div>';
                let id = Math.floor(index / n);
                //如果是最后一行，则直接加在末尾，如果不是，则加在当前行的后面
                if ((id + 1) === last) {
                    $("#game-all-name-list").append(mHtml);
                } else {
                    $("#game-all-name-list li").eq(n*id + (n - 1)).after(mHtml);
                }
            }
        }
    }
</script>
</body>
</html>
