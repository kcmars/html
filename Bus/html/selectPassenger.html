<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Language" content="zh-CN"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <title>选择乘客</title>
    <script type="text/javascript" src="../js/auto-size.js"></script>
    <link href="../css/main.css" type="text/css" rel="stylesheet">
    <link href="../css/select-passenger-css.css" type="text/css" rel="stylesheet">
</head>
<body>
    <div class="main">
        <div class="select-passenger-head-add">
            +添加乘客（成人、儿童）
        </div>
        <ul id="showInfo" class="select-passenger-list top-border">
            <li class="select-passenger-list-item bottom-border">
                <input type="checkbox"/>
                <span class="type">成人票</span>
                <span class="name">李四</span>
                <span class="id-number">身份证500222000222002020</span>
            </li>
        </ul>
        <div class="select-passenger-btn">
            确定
        </div>
    </div>
</body>
<script type="text/template" charset="utf-8" id='template_1'>
    {{ if (it && it.length > 0){ }}
    {{ for (var i = 0; i < it.length; i++){ }}
        <li class="select-passenger-list-item bottom-border">
            <input type="checkbox"/>
            <span class="type">{{=it[i].type}}</span>
            <span class="name">{{=it[i].name}}</span>
            <span class="id-number">身份证{{=it[i].idNumber}}</span>
        </li>
    {{ } }}
    {{ } else { }}
        <li>没有数据。</li>
    {{ } }}
</script>
<script type="text/javascript" src="../js/jquery-1.8.1.min.js"></script>
<script type="text/javascript" src="../js/doT.js"></script>
<script type="text/javascript">
    $(function () {
         var data = localStorage.getItem("data");
         console.log(data);
         var json = JSON.parse(data);
         console.log(json.name);
        //添加新的乘客
        $(".select-passenger-head-add").bind("click",function(){
            location.href = './addPassenger.html';
        });
        //保存选中的乘客
        $(".select-passenger-btn").bind("click",function(){
            window.history.back();
            window.location.reload();
        });
        var template=document.getElementById('template_1').innerHTML;
        var obj=[{type: '成人票', name:'张三', idNumber:'500230451515151515'},
            {type: '成人票', name:'李四', idNumber:'560254505556234592'},
            {type: '儿童票', name:'小米', idNumber:'142566598992646266'}];
        //传递一个有数据的数组进去
        document.getElementById('showInfo').innerHTML = doT.template( template )( obj );
    });
</script>
</html>