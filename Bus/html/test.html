<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title> New Document </title>
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
</head>
<style>
    ul {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
    }
    ul li {
        width: 30%;
        list-style: none;
        background-color: #1fb1ff;
        border: 1px solid salmon;
        padding: 20px;
        display: flex;
        align-content: center;
        justify-content: center;
    }
    .myDiv {
        width: 100%;
        background-color: #f21d20;
        border: 6px solid #f21d20;
        padding: 20px;
    }
</style>
<body>
    <ul id="game-all-name-list">
        <li name="mLi" onclick="test(this)">A</li>
        <li name="mLi" onclick="test(this)">B</li>
        <li name="mLi" onclick="test(this)">C</li>
        <li name="mLi" onclick="test(this)">D</li>
        <li name="mLi" onclick="test(this)">E</li>
        <li name="mLi" onclick="test(this)">F</li>
        <li name="mLi" onclick="test(this)">G</li>
        <li name="mLi" onclick="test(this)">H</li>
        <li name="mLi" onclick="test(this)">K</li>
    </ul>
</body>
</html>
<script type="text/javascript" src="../js/jquery-1.8.1.min.js"></script>
<script type="text/javascript">
    function test(obj) {
        let n = 3; //表示一行显示几个
        let text = $(obj).text();
        let index = $("#game-all-name-list li").index($(obj)); //获取点击的li在ul中的下标
        let li = $('li[name="mLi"]');//获取当前ul中所有li
        let last = Math.ceil(li.length/n); //获取行数
        for(let i=0; i<li.length; i++) {
            if (i === index) {
                let div = li[i];//获取第i个li
                let myDiv = document.getElementById("myDiv");
                if(myDiv){
                    div.parentNode.removeChild(myDiv);
                }
                let mHtml = '<div id="myDiv" class="myDiv">我是新的'+ text +'</div>';
                let id = Math.floor(index / n);
                //如果是最后一行，则直接加在末尾，如果不是，则加在当前行的后面
                if ((id + 1) === last) {
                    $("#game-all-name-list").append(mHtml);
                } else {
                    $("#game-all-name-list li").eq(n*id + (n - 1)).after(mHtml);
                }
            }
        }
    }
</script>